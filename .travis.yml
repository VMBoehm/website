# Travis CI config for automated Nikola blog deployments
language: python
cache: apt
sudo: false
addons:
  apt:
    packages:
    - language-pack-en-base
python:
  - 3.5

before_install:
  - git config --global user.name 'Travis CI'
  - git config --global user.email 'travis@invalid'
  - git config --global push.default 'simple'
  - pip install --upgrade pip wheel

install:
  - pip install 'Nikola[extras]'

script:
  - nikola build && nikola github_deploy -m 'Nikola auto deploy [ci skip]'

notifications:
    email:
        on_success: change
        on_failure: always
